{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const user = await AsyncStorage.default.getItem('user');\n        if (token && user) {\n          set({\n            token,\n            user: JSON.parse(user),\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Error loading token:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          token: access_token,\n          user,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Login error:', error.response?.data || error.message);\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (email, password, name, role) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          email,\n          password,\n          name,\n          role\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          token: access_token,\n          user,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Register error:', error.response?.data || error.message);\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      set({\n        token: null,\n        user: null,\n        isAuthenticated: false\n      });\n    },\n    updateProfile: async data => {\n      try {\n        const token = get().token;\n        const response = await axios.default.put(`${API_URL}/api/auth/profile`, data, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const updatedUser = response.data;\n        await AsyncStorage.default.setItem('user', JSON.stringify(updatedUser));\n        set({\n          user: updatedUser\n        });\n      } catch (error) {\n        console.error('Update profile error:', error);\n        throw new Error('Failed to update profile');\n      }\n    }\n  }));\n});","lineCount":127,"map":[[12,2,29,0,"Object"],[12,8,29,0],[12,9,29,0,"defineProperty"],[12,23,29,0],[12,24,29,0,"exports"],[12,31,29,0],[13,4,29,0,"enumerable"],[13,14,29,0],[14,4,29,0,"get"],[14,7,29,0],[14,18,29,0,"get"],[14,19,29,0],[15,6,29,0],[15,13,29,0,"useAuthStore"],[15,25,29,0],[16,4,29,0],[17,2,29,0],[18,2,112,4],[18,6,112,4,"_expoVirtualEnv"],[18,21,112,4],[18,24,112,4,"require"],[18,31,112,4],[18,32,112,4,"_dependencyMap"],[18,46,112,4],[19,2,1,0],[19,6,1,0,"_zustand"],[19,14,1,0],[19,17,1,0,"require"],[19,24,1,0],[19,25,1,0,"_dependencyMap"],[19,39,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,3,0],[22,6,3,0,"_axios"],[22,12,3,0],[22,15,3,0,"require"],[22,22,3,0],[22,23,3,0,"_dependencyMap"],[22,37,3,0],[23,2,3,0],[23,6,3,0,"axios"],[23,11,3,0],[23,14,3,0,"_interopDefault"],[23,29,3,0],[23,30,3,0,"_axios"],[23,36,3,0],[24,2,5,0],[24,8,5,6,"API_URL"],[24,15,5,13],[24,18,5,13,"_expoVirtualEnv"],[24,33,5,13],[24,34,5,13,"env"],[24,37,5,13],[24,38,5,13,"EXPO_PUBLIC_BACKEND_URL"],[24,61,5,51],[25,2,29,7],[25,8,29,13,"useAuthStore"],[25,20,29,25],[25,23,29,28],[25,27,29,28,"create"],[25,35,29,34],[25,36,29,34,"create"],[25,42,29,34],[25,44,29,46],[25,45,29,47,"set"],[25,48,29,50],[25,50,29,52,"get"],[25,53,29,55],[25,59,29,61],[26,4,30,2,"user"],[26,8,30,6],[26,10,30,8],[26,14,30,12],[27,4,31,2,"token"],[27,9,31,7],[27,11,31,9],[27,15,31,13],[28,4,32,2,"isLoading"],[28,13,32,11],[28,15,32,13],[28,19,32,17],[29,4,33,2,"isAuthenticated"],[29,19,33,17],[29,21,33,19],[29,26,33,24],[30,4,35,2,"loadToken"],[30,13,35,11],[30,15,35,13],[30,21,35,13,"loadToken"],[30,22,35,13],[30,27,35,25],[31,6,36,4],[31,10,36,8],[32,8,37,6],[32,14,37,12,"token"],[32,19,37,17],[32,22,37,20],[32,28,37,26,"AsyncStorage"],[32,40,37,38],[32,41,37,38,"default"],[32,48,37,38],[32,49,37,39,"getItem"],[32,56,37,46],[32,57,37,47],[32,64,37,54],[32,65,37,55],[33,8,38,6],[33,14,38,12,"user"],[33,18,38,16],[33,21,38,19],[33,27,38,25,"AsyncStorage"],[33,39,38,37],[33,40,38,37,"default"],[33,47,38,37],[33,48,38,38,"getItem"],[33,55,38,45],[33,56,38,46],[33,62,38,52],[33,63,38,53],[34,8,40,6],[34,12,40,10,"token"],[34,17,40,15],[34,21,40,19,"user"],[34,25,40,23],[34,27,40,25],[35,10,41,8,"set"],[35,13,41,11],[35,14,41,12],[36,12,41,14,"token"],[36,17,41,19],[37,12,41,21,"user"],[37,16,41,25],[37,18,41,27,"JSON"],[37,22,41,31],[37,23,41,32,"parse"],[37,28,41,37],[37,29,41,38,"user"],[37,33,41,42],[37,34,41,43],[38,12,41,45,"isAuthenticated"],[38,27,41,60],[38,29,41,62],[38,33,41,66],[39,12,41,68,"isLoading"],[39,21,41,77],[39,23,41,79],[40,10,41,85],[40,11,41,86],[40,12,41,87],[41,8,42,6],[41,9,42,7],[41,15,42,13],[42,10,43,8,"set"],[42,13,43,11],[42,14,43,12],[43,12,43,14,"isLoading"],[43,21,43,23],[43,23,43,25],[44,10,43,31],[44,11,43,32],[44,12,43,33],[45,8,44,6],[46,6,45,4],[46,7,45,5],[46,8,45,6],[46,15,45,13,"error"],[46,20,45,18],[46,22,45,20],[47,8,46,6,"console"],[47,15,46,13],[47,16,46,14,"error"],[47,21,46,19],[47,22,46,20],[47,44,46,42],[47,46,46,44,"error"],[47,51,46,49],[47,52,46,50],[48,8,47,6,"set"],[48,11,47,9],[48,12,47,10],[49,10,47,12,"isLoading"],[49,19,47,21],[49,21,47,23],[50,8,47,29],[50,9,47,30],[50,10,47,31],[51,6,48,4],[52,4,49,2],[52,5,49,3],[53,4,51,2,"login"],[53,9,51,7],[53,11,51,9],[53,17,51,9,"login"],[53,18,51,16,"email"],[53,23,51,29],[53,25,51,31,"password"],[53,33,51,47],[53,38,51,52],[54,6,52,4],[54,10,52,8],[55,8,53,6],[55,14,53,12,"response"],[55,22,53,20],[55,25,53,23],[55,31,53,29,"axios"],[55,36,53,34],[55,37,53,34,"default"],[55,44,53,34],[55,45,53,35,"post"],[55,49,53,39],[55,50,53,40],[55,53,53,43,"API_URL"],[55,60,53,50],[55,77,53,67],[55,79,53,69],[56,10,54,8,"email"],[56,15,54,13],[57,10,55,8,"password"],[58,8,56,6],[58,9,56,7],[58,10,56,8],[59,8,58,6],[59,14,58,12],[60,10,58,14,"access_token"],[60,22,58,26],[61,10,58,28,"user"],[62,8,58,33],[62,9,58,34],[62,12,58,37,"response"],[62,20,58,45],[62,21,58,46,"data"],[62,25,58,50],[63,8,60,6],[63,14,60,12,"AsyncStorage"],[63,26,60,24],[63,27,60,24,"default"],[63,34,60,24],[63,35,60,25,"setItem"],[63,42,60,32],[63,43,60,33],[63,50,60,40],[63,52,60,42,"access_token"],[63,64,60,54],[63,65,60,55],[64,8,61,6],[64,14,61,12,"AsyncStorage"],[64,26,61,24],[64,27,61,24,"default"],[64,34,61,24],[64,35,61,25,"setItem"],[64,42,61,32],[64,43,61,33],[64,49,61,39],[64,51,61,41,"JSON"],[64,55,61,45],[64,56,61,46,"stringify"],[64,65,61,55],[64,66,61,56,"user"],[64,70,61,60],[64,71,61,61],[64,72,61,62],[65,8,63,6,"set"],[65,11,63,9],[65,12,63,10],[66,10,63,12,"token"],[66,15,63,17],[66,17,63,19,"access_token"],[66,29,63,31],[67,10,63,33,"user"],[67,14,63,37],[68,10,63,39,"isAuthenticated"],[68,25,63,54],[68,27,63,56],[69,8,63,61],[69,9,63,62],[69,10,63,63],[70,6,64,4],[70,7,64,5],[70,8,64,6],[70,15,64,13,"error"],[70,20,64,23],[70,22,64,25],[71,8,65,6,"console"],[71,15,65,13],[71,16,65,14,"error"],[71,21,65,19],[71,22,65,20],[71,36,65,34],[71,38,65,36,"error"],[71,43,65,41],[71,44,65,42,"response"],[71,52,65,50],[71,54,65,52,"data"],[71,58,65,56],[71,62,65,60,"error"],[71,67,65,65],[71,68,65,66,"message"],[71,75,65,73],[71,76,65,74],[72,8,66,6],[72,14,66,12],[72,18,66,16,"Error"],[72,23,66,21],[72,24,66,22,"error"],[72,29,66,27],[72,30,66,28,"response"],[72,38,66,36],[72,40,66,38,"data"],[72,44,66,42],[72,46,66,44,"detail"],[72,52,66,50],[72,56,66,54],[72,70,66,68],[72,71,66,69],[73,6,67,4],[74,4,68,2],[74,5,68,3],[75,4,70,2,"register"],[75,12,70,10],[75,14,70,12],[75,20,70,12,"register"],[75,21,70,19,"email"],[75,26,70,32],[75,28,70,34,"password"],[75,36,70,50],[75,38,70,52,"name"],[75,42,70,64],[75,44,70,66,"role"],[75,48,70,78],[75,53,70,83],[76,6,71,4],[76,10,71,8],[77,8,72,6],[77,14,72,12,"response"],[77,22,72,20],[77,25,72,23],[77,31,72,29,"axios"],[77,36,72,34],[77,37,72,34,"default"],[77,44,72,34],[77,45,72,35,"post"],[77,49,72,39],[77,50,72,40],[77,53,72,43,"API_URL"],[77,60,72,50],[77,80,72,70],[77,82,72,72],[78,10,73,8,"email"],[78,15,73,13],[79,10,74,8,"password"],[79,18,74,16],[80,10,75,8,"name"],[80,14,75,12],[81,10,76,8,"role"],[82,8,77,6],[82,9,77,7],[82,10,77,8],[83,8,79,6],[83,14,79,12],[84,10,79,14,"access_token"],[84,22,79,26],[85,10,79,28,"user"],[86,8,79,33],[86,9,79,34],[86,12,79,37,"response"],[86,20,79,45],[86,21,79,46,"data"],[86,25,79,50],[87,8,81,6],[87,14,81,12,"AsyncStorage"],[87,26,81,24],[87,27,81,24,"default"],[87,34,81,24],[87,35,81,25,"setItem"],[87,42,81,32],[87,43,81,33],[87,50,81,40],[87,52,81,42,"access_token"],[87,64,81,54],[87,65,81,55],[88,8,82,6],[88,14,82,12,"AsyncStorage"],[88,26,82,24],[88,27,82,24,"default"],[88,34,82,24],[88,35,82,25,"setItem"],[88,42,82,32],[88,43,82,33],[88,49,82,39],[88,51,82,41,"JSON"],[88,55,82,45],[88,56,82,46,"stringify"],[88,65,82,55],[88,66,82,56,"user"],[88,70,82,60],[88,71,82,61],[88,72,82,62],[89,8,84,6,"set"],[89,11,84,9],[89,12,84,10],[90,10,84,12,"token"],[90,15,84,17],[90,17,84,19,"access_token"],[90,29,84,31],[91,10,84,33,"user"],[91,14,84,37],[92,10,84,39,"isAuthenticated"],[92,25,84,54],[92,27,84,56],[93,8,84,61],[93,9,84,62],[93,10,84,63],[94,6,85,4],[94,7,85,5],[94,8,85,6],[94,15,85,13,"error"],[94,20,85,23],[94,22,85,25],[95,8,86,6,"console"],[95,15,86,13],[95,16,86,14,"error"],[95,21,86,19],[95,22,86,20],[95,39,86,37],[95,41,86,39,"error"],[95,46,86,44],[95,47,86,45,"response"],[95,55,86,53],[95,57,86,55,"data"],[95,61,86,59],[95,65,86,63,"error"],[95,70,86,68],[95,71,86,69,"message"],[95,78,86,76],[95,79,86,77],[96,8,87,6],[96,14,87,12],[96,18,87,16,"Error"],[96,23,87,21],[96,24,87,22,"error"],[96,29,87,27],[96,30,87,28,"response"],[96,38,87,36],[96,40,87,38,"data"],[96,44,87,42],[96,46,87,44,"detail"],[96,52,87,50],[96,56,87,54],[96,77,87,75],[96,78,87,76],[97,6,88,4],[98,4,89,2],[98,5,89,3],[99,4,91,2,"logout"],[99,10,91,8],[99,12,91,10],[99,18,91,10,"logout"],[99,19,91,10],[99,24,91,22],[100,6,92,4],[100,12,92,10,"AsyncStorage"],[100,24,92,22],[100,25,92,22,"default"],[100,32,92,22],[100,33,92,23,"removeItem"],[100,43,92,33],[100,44,92,34],[100,51,92,41],[100,52,92,42],[101,6,93,4],[101,12,93,10,"AsyncStorage"],[101,24,93,22],[101,25,93,22,"default"],[101,32,93,22],[101,33,93,23,"removeItem"],[101,43,93,33],[101,44,93,34],[101,50,93,40],[101,51,93,41],[102,6,94,4,"set"],[102,9,94,7],[102,10,94,8],[103,8,94,10,"token"],[103,13,94,15],[103,15,94,17],[103,19,94,21],[104,8,94,23,"user"],[104,12,94,27],[104,14,94,29],[104,18,94,33],[105,8,94,35,"isAuthenticated"],[105,23,94,50],[105,25,94,52],[106,6,94,58],[106,7,94,59],[106,8,94,60],[107,4,95,2],[107,5,95,3],[108,4,97,2,"updateProfile"],[108,17,97,15],[108,19,97,17],[108,25,97,24,"data"],[108,29,97,33],[108,33,97,38],[109,6,98,4],[109,10,98,8],[110,8,99,6],[110,14,99,12,"token"],[110,19,99,17],[110,22,99,20,"get"],[110,25,99,23],[110,26,99,24],[110,27,99,25],[110,28,99,26,"token"],[110,33,99,31],[111,8,100,6],[111,14,100,12,"response"],[111,22,100,20],[111,25,100,23],[111,31,100,29,"axios"],[111,36,100,34],[111,37,100,34,"default"],[111,44,100,34],[111,45,100,35,"put"],[111,48,100,38],[111,49,100,39],[111,52,100,42,"API_URL"],[111,59,100,49],[111,78,100,68],[111,80,100,70,"data"],[111,84,100,74],[111,86,100,76],[112,10,101,8,"headers"],[112,17,101,15],[112,19,101,17],[113,12,101,19,"Authorization"],[113,25,101,32],[113,27,101,34],[113,37,101,44,"token"],[113,42,101,49],[114,10,101,52],[115,8,102,6],[115,9,102,7],[115,10,102,8],[116,8,104,6],[116,14,104,12,"updatedUser"],[116,25,104,23],[116,28,104,26,"response"],[116,36,104,34],[116,37,104,35,"data"],[116,41,104,39],[117,8,105,6],[117,14,105,12,"AsyncStorage"],[117,26,105,24],[117,27,105,24,"default"],[117,34,105,24],[117,35,105,25,"setItem"],[117,42,105,32],[117,43,105,33],[117,49,105,39],[117,51,105,41,"JSON"],[117,55,105,45],[117,56,105,46,"stringify"],[117,65,105,55],[117,66,105,56,"updatedUser"],[117,77,105,67],[117,78,105,68],[117,79,105,69],[118,8,106,6,"set"],[118,11,106,9],[118,12,106,10],[119,10,106,12,"user"],[119,14,106,16],[119,16,106,18,"updatedUser"],[120,8,106,30],[120,9,106,31],[120,10,106,32],[121,6,107,4],[121,7,107,5],[121,8,107,6],[121,15,107,13,"error"],[121,20,107,23],[121,22,107,25],[122,8,108,6,"console"],[122,15,108,13],[122,16,108,14,"error"],[122,21,108,19],[122,22,108,20],[122,45,108,43],[122,47,108,45,"error"],[122,52,108,50],[122,53,108,51],[123,8,109,6],[123,14,109,12],[123,18,109,16,"Error"],[123,23,109,21],[123,24,109,22],[123,50,109,48],[123,51,109,49],[124,6,110,4],[125,4,111,2],[126,2,112,0],[126,3,112,1],[126,4,112,2],[126,5,112,3],[127,0,112,4],[127,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","register","logout","updateProfile"],"mappings":"AAA;8CC4B;aCM;GDc;SEE;GFiB;YGE;GHmB;UIE;GJI;iBKE;GLc;EDC"},"hasCjsExports":false},"type":"js/module"}]}