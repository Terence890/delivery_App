{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const user = await AsyncStorage.default.getItem('user');\n        if (token && user) {\n          set({\n            token,\n            user: JSON.parse(user),\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Error loading token:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          token: access_token,\n          user,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Login error:', error.response?.data || error.message);\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (email, password, name, role) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          email,\n          password,\n          name,\n          role\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          token: access_token,\n          user,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Register error:', error.response?.data || error.message);\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      set({\n        token: null,\n        user: null,\n        isAuthenticated: false\n      });\n    },\n    updateProfile: async data => {\n      try {\n        const token = get().token;\n        const response = await axios.default.put(`${API_URL}/api/auth/profile`, data, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const updatedUser = response.data;\n        await AsyncStorage.default.setItem('user', JSON.stringify(updatedUser));\n        set({\n          user: updatedUser\n        });\n      } catch (error) {\n        console.error('Update profile error:', error);\n        throw new Error('Failed to update profile');\n      }\n    }\n  }));\n});","lineCount":126,"map":[[12,2,29,0,"Object"],[12,8,29,0],[12,9,29,0,"defineProperty"],[12,23,29,0],[12,24,29,0,"exports"],[12,31,29,0],[13,4,29,0,"enumerable"],[13,14,29,0],[14,4,29,0,"get"],[14,7,29,0],[14,18,29,0,"get"],[14,19,29,0],[15,6,29,0],[15,13,29,0,"useAuthStore"],[15,25,29,0],[16,4,29,0],[17,2,29,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,5,0],[23,8,5,6,"API_URL"],[23,15,5,13],[23,18,5,16,"process"],[23,25,5,23],[23,26,5,24,"env"],[23,29,5,27],[23,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[23,53,5,51],[24,2,29,7],[24,8,29,13,"useAuthStore"],[24,20,29,25],[24,23,29,28],[24,27,29,28,"create"],[24,35,29,34],[24,36,29,34,"create"],[24,42,29,34],[24,44,29,46],[24,45,29,47,"set"],[24,48,29,50],[24,50,29,52,"get"],[24,53,29,55],[24,59,29,61],[25,4,30,2,"user"],[25,8,30,6],[25,10,30,8],[25,14,30,12],[26,4,31,2,"token"],[26,9,31,7],[26,11,31,9],[26,15,31,13],[27,4,32,2,"isLoading"],[27,13,32,11],[27,15,32,13],[27,19,32,17],[28,4,33,2,"isAuthenticated"],[28,19,33,17],[28,21,33,19],[28,26,33,24],[29,4,35,2,"loadToken"],[29,13,35,11],[29,15,35,13],[29,21,35,13,"loadToken"],[29,22,35,13],[29,27,35,25],[30,6,36,4],[30,10,36,8],[31,8,37,6],[31,14,37,12,"token"],[31,19,37,17],[31,22,37,20],[31,28,37,26,"AsyncStorage"],[31,40,37,38],[31,41,37,38,"default"],[31,48,37,38],[31,49,37,39,"getItem"],[31,56,37,46],[31,57,37,47],[31,64,37,54],[31,65,37,55],[32,8,38,6],[32,14,38,12,"user"],[32,18,38,16],[32,21,38,19],[32,27,38,25,"AsyncStorage"],[32,39,38,37],[32,40,38,37,"default"],[32,47,38,37],[32,48,38,38,"getItem"],[32,55,38,45],[32,56,38,46],[32,62,38,52],[32,63,38,53],[33,8,40,6],[33,12,40,10,"token"],[33,17,40,15],[33,21,40,19,"user"],[33,25,40,23],[33,27,40,25],[34,10,41,8,"set"],[34,13,41,11],[34,14,41,12],[35,12,41,14,"token"],[35,17,41,19],[36,12,41,21,"user"],[36,16,41,25],[36,18,41,27,"JSON"],[36,22,41,31],[36,23,41,32,"parse"],[36,28,41,37],[36,29,41,38,"user"],[36,33,41,42],[36,34,41,43],[37,12,41,45,"isAuthenticated"],[37,27,41,60],[37,29,41,62],[37,33,41,66],[38,12,41,68,"isLoading"],[38,21,41,77],[38,23,41,79],[39,10,41,85],[39,11,41,86],[39,12,41,87],[40,8,42,6],[40,9,42,7],[40,15,42,13],[41,10,43,8,"set"],[41,13,43,11],[41,14,43,12],[42,12,43,14,"isLoading"],[42,21,43,23],[42,23,43,25],[43,10,43,31],[43,11,43,32],[43,12,43,33],[44,8,44,6],[45,6,45,4],[45,7,45,5],[45,8,45,6],[45,15,45,13,"error"],[45,20,45,18],[45,22,45,20],[46,8,46,6,"console"],[46,15,46,13],[46,16,46,14,"error"],[46,21,46,19],[46,22,46,20],[46,44,46,42],[46,46,46,44,"error"],[46,51,46,49],[46,52,46,50],[47,8,47,6,"set"],[47,11,47,9],[47,12,47,10],[48,10,47,12,"isLoading"],[48,19,47,21],[48,21,47,23],[49,8,47,29],[49,9,47,30],[49,10,47,31],[50,6,48,4],[51,4,49,2],[51,5,49,3],[52,4,51,2,"login"],[52,9,51,7],[52,11,51,9],[52,17,51,9,"login"],[52,18,51,16,"email"],[52,23,51,29],[52,25,51,31,"password"],[52,33,51,47],[52,38,51,52],[53,6,52,4],[53,10,52,8],[54,8,53,6],[54,14,53,12,"response"],[54,22,53,20],[54,25,53,23],[54,31,53,29,"axios"],[54,36,53,34],[54,37,53,34,"default"],[54,44,53,34],[54,45,53,35,"post"],[54,49,53,39],[54,50,53,40],[54,53,53,43,"API_URL"],[54,60,53,50],[54,77,53,67],[54,79,53,69],[55,10,54,8,"email"],[55,15,54,13],[56,10,55,8,"password"],[57,8,56,6],[57,9,56,7],[57,10,56,8],[58,8,58,6],[58,14,58,12],[59,10,58,14,"access_token"],[59,22,58,26],[60,10,58,28,"user"],[61,8,58,33],[61,9,58,34],[61,12,58,37,"response"],[61,20,58,45],[61,21,58,46,"data"],[61,25,58,50],[62,8,60,6],[62,14,60,12,"AsyncStorage"],[62,26,60,24],[62,27,60,24,"default"],[62,34,60,24],[62,35,60,25,"setItem"],[62,42,60,32],[62,43,60,33],[62,50,60,40],[62,52,60,42,"access_token"],[62,64,60,54],[62,65,60,55],[63,8,61,6],[63,14,61,12,"AsyncStorage"],[63,26,61,24],[63,27,61,24,"default"],[63,34,61,24],[63,35,61,25,"setItem"],[63,42,61,32],[63,43,61,33],[63,49,61,39],[63,51,61,41,"JSON"],[63,55,61,45],[63,56,61,46,"stringify"],[63,65,61,55],[63,66,61,56,"user"],[63,70,61,60],[63,71,61,61],[63,72,61,62],[64,8,63,6,"set"],[64,11,63,9],[64,12,63,10],[65,10,63,12,"token"],[65,15,63,17],[65,17,63,19,"access_token"],[65,29,63,31],[66,10,63,33,"user"],[66,14,63,37],[67,10,63,39,"isAuthenticated"],[67,25,63,54],[67,27,63,56],[68,8,63,61],[68,9,63,62],[68,10,63,63],[69,6,64,4],[69,7,64,5],[69,8,64,6],[69,15,64,13,"error"],[69,20,64,23],[69,22,64,25],[70,8,65,6,"console"],[70,15,65,13],[70,16,65,14,"error"],[70,21,65,19],[70,22,65,20],[70,36,65,34],[70,38,65,36,"error"],[70,43,65,41],[70,44,65,42,"response"],[70,52,65,50],[70,54,65,52,"data"],[70,58,65,56],[70,62,65,60,"error"],[70,67,65,65],[70,68,65,66,"message"],[70,75,65,73],[70,76,65,74],[71,8,66,6],[71,14,66,12],[71,18,66,16,"Error"],[71,23,66,21],[71,24,66,22,"error"],[71,29,66,27],[71,30,66,28,"response"],[71,38,66,36],[71,40,66,38,"data"],[71,44,66,42],[71,46,66,44,"detail"],[71,52,66,50],[71,56,66,54],[71,70,66,68],[71,71,66,69],[72,6,67,4],[73,4,68,2],[73,5,68,3],[74,4,70,2,"register"],[74,12,70,10],[74,14,70,12],[74,20,70,12,"register"],[74,21,70,19,"email"],[74,26,70,32],[74,28,70,34,"password"],[74,36,70,50],[74,38,70,52,"name"],[74,42,70,64],[74,44,70,66,"role"],[74,48,70,78],[74,53,70,83],[75,6,71,4],[75,10,71,8],[76,8,72,6],[76,14,72,12,"response"],[76,22,72,20],[76,25,72,23],[76,31,72,29,"axios"],[76,36,72,34],[76,37,72,34,"default"],[76,44,72,34],[76,45,72,35,"post"],[76,49,72,39],[76,50,72,40],[76,53,72,43,"API_URL"],[76,60,72,50],[76,80,72,70],[76,82,72,72],[77,10,73,8,"email"],[77,15,73,13],[78,10,74,8,"password"],[78,18,74,16],[79,10,75,8,"name"],[79,14,75,12],[80,10,76,8,"role"],[81,8,77,6],[81,9,77,7],[81,10,77,8],[82,8,79,6],[82,14,79,12],[83,10,79,14,"access_token"],[83,22,79,26],[84,10,79,28,"user"],[85,8,79,33],[85,9,79,34],[85,12,79,37,"response"],[85,20,79,45],[85,21,79,46,"data"],[85,25,79,50],[86,8,81,6],[86,14,81,12,"AsyncStorage"],[86,26,81,24],[86,27,81,24,"default"],[86,34,81,24],[86,35,81,25,"setItem"],[86,42,81,32],[86,43,81,33],[86,50,81,40],[86,52,81,42,"access_token"],[86,64,81,54],[86,65,81,55],[87,8,82,6],[87,14,82,12,"AsyncStorage"],[87,26,82,24],[87,27,82,24,"default"],[87,34,82,24],[87,35,82,25,"setItem"],[87,42,82,32],[87,43,82,33],[87,49,82,39],[87,51,82,41,"JSON"],[87,55,82,45],[87,56,82,46,"stringify"],[87,65,82,55],[87,66,82,56,"user"],[87,70,82,60],[87,71,82,61],[87,72,82,62],[88,8,84,6,"set"],[88,11,84,9],[88,12,84,10],[89,10,84,12,"token"],[89,15,84,17],[89,17,84,19,"access_token"],[89,29,84,31],[90,10,84,33,"user"],[90,14,84,37],[91,10,84,39,"isAuthenticated"],[91,25,84,54],[91,27,84,56],[92,8,84,61],[92,9,84,62],[92,10,84,63],[93,6,85,4],[93,7,85,5],[93,8,85,6],[93,15,85,13,"error"],[93,20,85,23],[93,22,85,25],[94,8,86,6,"console"],[94,15,86,13],[94,16,86,14,"error"],[94,21,86,19],[94,22,86,20],[94,39,86,37],[94,41,86,39,"error"],[94,46,86,44],[94,47,86,45,"response"],[94,55,86,53],[94,57,86,55,"data"],[94,61,86,59],[94,65,86,63,"error"],[94,70,86,68],[94,71,86,69,"message"],[94,78,86,76],[94,79,86,77],[95,8,87,6],[95,14,87,12],[95,18,87,16,"Error"],[95,23,87,21],[95,24,87,22,"error"],[95,29,87,27],[95,30,87,28,"response"],[95,38,87,36],[95,40,87,38,"data"],[95,44,87,42],[95,46,87,44,"detail"],[95,52,87,50],[95,56,87,54],[95,77,87,75],[95,78,87,76],[96,6,88,4],[97,4,89,2],[97,5,89,3],[98,4,91,2,"logout"],[98,10,91,8],[98,12,91,10],[98,18,91,10,"logout"],[98,19,91,10],[98,24,91,22],[99,6,92,4],[99,12,92,10,"AsyncStorage"],[99,24,92,22],[99,25,92,22,"default"],[99,32,92,22],[99,33,92,23,"removeItem"],[99,43,92,33],[99,44,92,34],[99,51,92,41],[99,52,92,42],[100,6,93,4],[100,12,93,10,"AsyncStorage"],[100,24,93,22],[100,25,93,22,"default"],[100,32,93,22],[100,33,93,23,"removeItem"],[100,43,93,33],[100,44,93,34],[100,50,93,40],[100,51,93,41],[101,6,94,4,"set"],[101,9,94,7],[101,10,94,8],[102,8,94,10,"token"],[102,13,94,15],[102,15,94,17],[102,19,94,21],[103,8,94,23,"user"],[103,12,94,27],[103,14,94,29],[103,18,94,33],[104,8,94,35,"isAuthenticated"],[104,23,94,50],[104,25,94,52],[105,6,94,58],[105,7,94,59],[105,8,94,60],[106,4,95,2],[106,5,95,3],[107,4,97,2,"updateProfile"],[107,17,97,15],[107,19,97,17],[107,25,97,24,"data"],[107,29,97,33],[107,33,97,38],[108,6,98,4],[108,10,98,8],[109,8,99,6],[109,14,99,12,"token"],[109,19,99,17],[109,22,99,20,"get"],[109,25,99,23],[109,26,99,24],[109,27,99,25],[109,28,99,26,"token"],[109,33,99,31],[110,8,100,6],[110,14,100,12,"response"],[110,22,100,20],[110,25,100,23],[110,31,100,29,"axios"],[110,36,100,34],[110,37,100,34,"default"],[110,44,100,34],[110,45,100,35,"put"],[110,48,100,38],[110,49,100,39],[110,52,100,42,"API_URL"],[110,59,100,49],[110,78,100,68],[110,80,100,70,"data"],[110,84,100,74],[110,86,100,76],[111,10,101,8,"headers"],[111,17,101,15],[111,19,101,17],[112,12,101,19,"Authorization"],[112,25,101,32],[112,27,101,34],[112,37,101,44,"token"],[112,42,101,49],[113,10,101,52],[114,8,102,6],[114,9,102,7],[114,10,102,8],[115,8,104,6],[115,14,104,12,"updatedUser"],[115,25,104,23],[115,28,104,26,"response"],[115,36,104,34],[115,37,104,35,"data"],[115,41,104,39],[116,8,105,6],[116,14,105,12,"AsyncStorage"],[116,26,105,24],[116,27,105,24,"default"],[116,34,105,24],[116,35,105,25,"setItem"],[116,42,105,32],[116,43,105,33],[116,49,105,39],[116,51,105,41,"JSON"],[116,55,105,45],[116,56,105,46,"stringify"],[116,65,105,55],[116,66,105,56,"updatedUser"],[116,77,105,67],[116,78,105,68],[116,79,105,69],[117,8,106,6,"set"],[117,11,106,9],[117,12,106,10],[118,10,106,12,"user"],[118,14,106,16],[118,16,106,18,"updatedUser"],[119,8,106,30],[119,9,106,31],[119,10,106,32],[120,6,107,4],[120,7,107,5],[120,8,107,6],[120,15,107,13,"error"],[120,20,107,23],[120,22,107,25],[121,8,108,6,"console"],[121,15,108,13],[121,16,108,14,"error"],[121,21,108,19],[121,22,108,20],[121,45,108,43],[121,47,108,45,"error"],[121,52,108,50],[121,53,108,51],[122,8,109,6],[122,14,109,12],[122,18,109,16,"Error"],[122,23,109,21],[122,24,109,22],[122,50,109,48],[122,51,109,49],[123,6,110,4],[124,4,111,2],[125,2,112,0],[125,3,112,1],[125,4,112,2],[125,5,112,3],[126,0,112,4],[126,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","register","logout","updateProfile"],"mappings":"AAA;8CC4B;aCM;GDc;SEE;GFiB;YGE;GHmB;UIE;GJI;iBKE;GLc;EDC"},"hasCjsExports":false},"type":"js/module"}]}